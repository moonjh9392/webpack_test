(()=>{let e;console.log(agoraStatesDiscussions);const t=localStorage.getItem("agoraStatesDiscussions");e=t?JSON.parse(t):agoraStatesDiscussions.slice();const n=e=>{const t=document.createElement("li");t.className="discussion__container";const n=document.createElement("div");n.className="discussion__avatar--wrapper";const s=document.createElement("div");s.className="discussion__content";const a=document.createElement("div");a.className="discussion__answered";const o=document.createElement("img");o.src=e.avatarUrl,o.alt="avatar of "+e.author,n.append(o);const c=document.createElement("h2"),r=document.createElement("a");r.href=e.url,r.textContent=e.title,c.append(r);const i=document.createElement("div");i.className="discussion__information",i.textContent=`${e.author} / ${new Date(e.createdAt).toLocaleTimeString()}`,s.append(c,i);const l=document.createElement("p");return l.textContent=e.answer?"☑":"☒",a.append(l),t.append(n,s,a),t},s=(t,s,a)=>{for(console.log(s,a),s||a||(s=0,a=e.length-1);t.firstChild;)t.removeChild(t.firstChild);for(let o=s;o<a;o+=1)t.append(n(e[o]))};let a=10,o=1;const c=document.querySelector("ul.discussions__container");s(c,0,a);const r=(t,n)=>{const s=e.length-1;let a=Number(n-1)*Number(t),o=Number(a)+Number(t);return n<=0&&(a=0),o>=s&&(o=s),{pageStart:a,pageEnd:o}},i=document.querySelector(".buttons");i.children[0].addEventListener("click",(()=>{o>1&&(o-=1);const{pageStart:e,pageEnd:t}=r(a,o);s(c,e,t)})),i.children[1].addEventListener("click",(()=>{a*o<e.length-1&&(o+=1);const{pageStart:t,pageEnd:n}=r(a,o);s(c,t,n)})),i.children[2].addEventListener("click",(()=>{localStorage.removeItem("agoraStatesDiscussions"),e=agoraStatesDiscussions.slice(),a=10,o=1,s(c,0,a)}));const l=document.querySelector("form.form"),u=l.querySelector("div.form__input--name > input"),d=l.querySelector("div.form__input--title > input"),m=l.querySelector("div.form__textbox > textarea");l.addEventListener("submit",(t=>{t.preventDefault();const n={id:"unique id",createdAt:(new Date).toISOString(),title:d.value,url:"https://github.com/codestates-seb/agora-states-fe/discussions",author:u.value,answer:null,bodyHTML:m.value,avatarUrl:"https://avatars.githubusercontent.com/u/12145019?s=64&u=5c97f25ee02d87898457e23c0e61b884241838e3&v=4"};e.unshift(n),localStorage.setItem("agoraStatesDiscussions",JSON.stringify(e)),s(c,0,a)}))})();